{"ast":null,"code":"import React,{useEffect,useState}from'react';import{FaHeart,FaRegHeart}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TvCard(_ref){var _JSON$parse;let{tv}=_ref;const{id,poster_path,name,first_air_date,vote_count,vote_average}=tv;const[isFavorite,setIsFavorite]=useState(((_JSON$parse=JSON.parse(localStorage.getItem('favoriteSeries')))===null||_JSON$parse===void 0?void 0:_JSON$parse.some(_ref2=>{let[_,movieId]=_ref2;return movieId===id;}))||false);const toggleFavorite=()=>{setIsFavorite(prev=>!prev);};useEffect(()=>{const favSeries=JSON.parse(localStorage.getItem(\"favoriteSeries\"))||[];if(isFavorite){localStorage.setItem('favoriteSeries',JSON.stringify([...favSeries,[name,id]]));}else{localStorage.setItem('favoriteSeries',JSON.stringify(favSeries.filter(_ref3=>{let[_,tvId]=_ref3;return tvId!==id;})));}},[isFavorite,name,id]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"poster\",height:\"150\",width:\"150\",src:\"https://image.tmdb.org/t/p/original/\".concat(poster_path),alt:\"title\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:name}),/*#__PURE__*/_jsxs(\"section\",{className:\"fav-heart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heart-icon\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",vote_average]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Votes: \",vote_count,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Release: \",first_air_date]}),isFavorite?/*#__PURE__*/_jsx(FaHeart,{className:\"fav-icon\",color:\"red\",onClick:toggleFavorite}):/*#__PURE__*/_jsx(FaRegHeart,{className:\"fav-icon\",onClick:toggleFavorite})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","FaHeart","FaRegHeart","jsx","_jsx","jsxs","_jsxs","TvCard","_ref","_JSON$parse","tv","id","poster_path","name","first_air_date","vote_count","vote_average","isFavorite","setIsFavorite","JSON","parse","localStorage","getItem","some","_ref2","_","movieId","toggleFavorite","prev","favSeries","setItem","stringify","filter","_ref3","tvId","children","className","height","width","src","concat","alt","color","onClick"],"sources":["/Users/ishan/Desktop/movie/src/TvCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {FaHeart,FaRegHeart} from \"react-icons/fa\"\nexport default function TvCard({tv}) {\n    \n    const {id,poster_path,name,first_air_date,vote_count,vote_average}= tv;\n    const [isFavorite,setIsFavorite] = useState(\n        JSON.parse(localStorage.getItem('favoriteSeries'))?.some(([_,movieId])=>movieId === id) || false\n    )\n  const toggleFavorite =()=>{\n    setIsFavorite((prev)=>!prev)\n  }\n  useEffect(()=>{\n    const favSeries =JSON.parse(localStorage.getItem(\"favoriteSeries\")) || []\n    if(isFavorite){\n         localStorage.setItem('favoriteSeries', JSON.stringify([...favSeries, [name,id]]))\n    } else {\n        localStorage.setItem('favoriteSeries',\n        JSON.stringify(favSeries.filter(([_,tvId])=>tvId !== id)))\n    }\n  },[isFavorite,name,id])\n  return (\n    <div>\n        <li className='card'>\n            <img className='poster' height=\"150\" width=\"150\" src={`https://image.tmdb.org/t/p/original/${poster_path}`} alt='title'/>\n            <h1 className='title'>{name}</h1>\n            <section className='fav-heart'>\n                <div className='heart-icon'>\n                    <p>Rating: {vote_average}</p>\n                    <p>Votes: {vote_count} </p>\n                </div>\n                <div>\n                    <p>Release: {first_air_date}</p>\n                    {isFavorite ? (\n                        <FaHeart className='fav-icon' color='red' onClick={toggleFavorite}/>\n                    ):(\n                        <FaRegHeart className='fav-icon' onClick={toggleFavorite}/>\n                    )}\n                </div>\n            </section>\n        </li>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}