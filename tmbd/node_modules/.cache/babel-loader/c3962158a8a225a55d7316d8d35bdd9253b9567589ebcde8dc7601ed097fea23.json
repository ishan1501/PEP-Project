{"ast":null,"code":"import React,{useEffect,useState}from'react';import{FaHeart,FaRegHeart}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieCard(_ref){var _JSON$parse;let{movie}=_ref;const{id,poster_path,title,release_date,vote_count,vote_average}=movie;const[isFavorite,setIsFavorite]=useState(((_JSON$parse=JSON.parse(localStorage.getItem('favoriteMovies')))===null||_JSON$parse===void 0?void 0:_JSON$parse.some(_ref2=>{let[_,movieId]=_ref2;return movieId===id;}))||false);const toggleFavorite=()=>{setIsFavorite(prev=>!prev);};useEffect(()=>{const favMovies=JSON.parse(localStorage.getItem(\"favoriteMovies\"))||[];if(isFavorite){localStorage.setItem('favoriteMovies',JSON.stringify([...favMovies,[title,id]]));}else{localStorage.setItem('favoriteMovies',JSON.stringify(favMovies.filter(_ref3=>{let[_,movieId]=_ref3;return movieId!==id;})));}},[isFavorite,title,id]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"poster\",height:\"150\",width:\"150\",src:\"https://image.tmdb.org/t/p/original/\".concat(poster_path),alt:\"title\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:title}),/*#__PURE__*/_jsxs(\"section\",{className:\"fav-heart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heart-icon\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",vote_average]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Votes: \",vote_count,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Release: \",release_date]}),isFavorite?/*#__PURE__*/_jsx(FaHeart,{className:\"fav-icon\",color:\"red\",onClick:toggleFavorite}):/*#__PURE__*/_jsx(FaRegHeart,{className:\"fav-icon\",onClick:toggleFavorite})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","FaHeart","FaRegHeart","jsx","_jsx","jsxs","_jsxs","MovieCard","_ref","_JSON$parse","movie","id","poster_path","title","release_date","vote_count","vote_average","isFavorite","setIsFavorite","JSON","parse","localStorage","getItem","some","_ref2","_","movieId","toggleFavorite","prev","favMovies","setItem","stringify","filter","_ref3","children","className","height","width","src","concat","alt","color","onClick"],"sources":["/Users/ishan/Desktop/movie/src/MovieCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {FaHeart,FaRegHeart} from \"react-icons/fa\"\nexport default function MovieCard({movie}) {\n    \n    const {id,poster_path,title,release_date,vote_count,vote_average}= movie;\n    const [isFavorite,setIsFavorite] = useState(\n        JSON.parse(localStorage.getItem('favoriteMovies'))?.some(([_,movieId])=>movieId === id) || false\n    )\n  const toggleFavorite =()=>{\n    setIsFavorite((prev)=>!prev)\n  }\n  useEffect(()=>{\n    const favMovies =JSON.parse(localStorage.getItem(\"favoriteMovies\")) || []\n    if(isFavorite){\n         localStorage.setItem('favoriteMovies', JSON.stringify([...favMovies, [title,id]]))\n    } else {\n        localStorage.setItem('favoriteMovies',\n        JSON.stringify(favMovies.filter(([_,movieId])=>movieId !== id)))\n    }\n  },[isFavorite,title,id])\n  return (\n    <div>\n        <li className='card'>\n            <img className='poster' height=\"150\" width=\"150\" src={`https://image.tmdb.org/t/p/original/${poster_path}`} alt='title'/>\n            <h1 className='title'>{title}</h1>\n            <section className='fav-heart'>\n                <div className='heart-icon'>\n                    <p>Rating: {vote_average}</p>\n                    <p>Votes: {vote_count} </p>\n                </div>\n                <div>\n                    <p>Release: {release_date}</p>\n                    {isFavorite ? (\n                        <FaHeart className='fav-icon' color='red' onClick={toggleFavorite}/>\n                    ):(\n                        <FaRegHeart className='fav-icon' onClick={toggleFavorite}/>\n                    )}\n                </div>\n            </section>\n        </li>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}